<!DOCTYPE html> <html lang="de"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>PDF Formular Befüllung</title> <script> function autofillAddress() { let strasse = document.getElementById("strasse").value; let plzOrt = document.getElementById("plz").value; document.getElementById("kStrasse").value = strasse; document.getElementById("kPLZOrt").value = plzOrt; document.getElementById("kLieferanschriftStr").value = strasse; document.getElementById("kLieferanschriftPLZOrt").value = plzOrt; } </script> </head> <body> <h2>PDF Formular Befüllung</h2> <form id="pdfForm"> <label for="vorname">Vorname:</label> <input type="text" id="vorname" name="vorname" required><br> <label for="nachname">Nachname:</label> <input type="text" id="nachname" name="nachname" required><br> <label for="firma">Firma:</label> <input type="text" id="firma" name="firma"><br> <label for="strasse">Straße/Nr.:</label> <input type="text" id="strasse" name="strasse" required oninput="autofillAddress()"><br> <label for="plz">PLZ/Ort:</label> <input type="text" id="plz" name="plz" required oninput="autofillAddress()"><br> <label for="kStrasse">Kundenstraße/Nr.:</label> <input type="text" id="kStrasse" name="kStrasse"><br> <label for="kPLZOrt">Kunden-PLZ/Ort:</label> <input type="text" id="kPLZOrt" name="kPLZOrt"><br> <label for="kLieferanschriftStr">Lieferanschrift Straße/Nr.:</label> <input type="text" id="kLieferanschriftStr" name="kLieferanschriftStr"><br> <label for="kLieferanschriftPLZOrt">Lieferanschrift PLZ/Ort:</label> <input type="text" id="kLieferanschriftPLZOrt" name="kLieferanschriftPLZOrt"><br> <label for="stromversorger">Stromversorger:</label> <input type="text" id="stromversorger" name="stromversorger"><br> <label for="zaehlernummer">Zählernummer:</label> <input type="text" id="zaehlernummer" name="zaehlernummer" required><br> <label for="iban">IBAN:</label> <input type="text" id="iban" name="iban" required><br> <label for="bankname">Bankname:</label> <input type="text" id="bankname" name="bankname" required><br> <label for="bic">BIC:</label> <input type="text" id="bic" name="bic"><br> <label for="telefon">Telefon:</label> <input type="text" id="telefon" name="telefon"><br> <label for="email">E-Mail:</label> <input type="email" id="email" name="email"><br> <label for="kundentyp">Kundentyp:</label> <select id="kundentyp" name="kundentyp"> <option value="privat">Privatkunde</option> <option value="geschaeft">Geschäftskunde</option> </select><br> <label for="ort">Ort:</label> <input type="text" id="ort" name="ort" required><br> <label for="datum">Datum:</label> <input type="text" id="datum" name="datum" readonly><br> <button type="submit">PDF generieren</button> </form> <script> document.addEventListener("DOMContentLoaded", function() { document.getElementById("datum").value = new Date().toLocaleDateString("de-DE"); }); document.getElementById("pdfForm").addEventListener("submit", async function(event) { event.preventDefault(); const formData = new FormData(this); const jsonData = {}; formData.forEach((value, key) => jsonData[key] = value); const response = await fetch("https://lvbstrom.onrender.com/fill-pdf", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(jsonData) }); if (response.ok) { const blob = await response.blob(); const url = window.URL.createObjectURL(blob); const a = document.createElement("a"); a.href = url; a.download = "filled-form.pdf"; document.body.appendChild(a); a.click(); window.URL.revokeObjectURL(url); } else { alert("Fehler beim Generieren der PDF."); } }); </script> </body> </html>